= form_for @task do |f|
  - if @task.errors.any?
    #error_explanation
      %h2= "#{pluralize(@task.errors.count, "error")} prohibited this task from being saved:"
      %ul
        - @task.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :name, t('.name')
    = f.text_field :name
  .field
    = f.label :description, t('.description')
    = f.textarea :description
  .field
    = f.label :due_date, t('.due_date')
    = f.date_field :due_date
  .field
    = f.label :category, t('.category')
    = f.collection_select :category_id, Category.all, :id, :name, prompt: t('.select_category')
    .participants
      = f.simple_fields_for :participating_users do |g|
        = render 'participating_user_fields', f: g

  .actions
    = f.submit t('.save')
